(function(e){function t(t){for(var r,o,i=t[0],l=t[1],c=t[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},n=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("Menu"),a("v-content",[a("v-container",{staticClass:"pa-5"},[a("router-view")],1)],1),a("Footer")],1)},n=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.logged?a("v-navigation-drawer",{staticClass:"indigo darken-4",attrs:{app:"",clipped:"",dark:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-avatar",[a("v-avatar",{attrs:{color:"orange darken-4"}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-account-circle")])],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.username))]),a("v-list-item-subtitle",[e._v("Bienvenido.")])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("div",{staticClass:"pa-2"},[a("v-btn",{attrs:{block:""},on:{click:e.logout}},[e._v("Logout")])],1)]},proxy:!0}],null,!1,3448373287),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-divider"),a("v-list",{attrs:{dense:""}},[a("v-list-item-group",{attrs:{color:"primary"},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}},e._l(e.items,(function(t,r){return a("v-list-item",{key:r,attrs:{to:t.to}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)],1)})),1)],1)],1):e._e(),a("v-app-bar",{attrs:{app:"","clipped-left":""}},[e.logged?a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}):e._e(),a("v-toolbar-title",[e._v("PANEL ADMINISTRACION")])],1)],1)},i=[],l={data:function(){return{drawer:null,item:0,items:[{text:"Files",icon:"mdi-folder",to:"Storage"},{text:"Users",icon:"mdi-account-multiple",to:"Users"},{text:"References genomes",icon:"mdi-format-align-justify",to:"Genomes"},{text:"Databases",icon:"mdi-database",to:"Databases"}]}},created:function(){this.$vuetify.theme.dark=!0},computed:{logged:function(){return this.$store.state.user&&"ADMIN_ROLE"===this.$store.state.user.role},username:function(){return this.$store.state.user.username}},methods:{logout:function(){this.$store.dispatch("logout")}}},c=l,u=a("2877"),d=Object(u["a"])(c,o,i,!1,null,"62cb392a",null),m=d.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-footer",{attrs:{app:""}},[a("span",[e._v("Â© 2020")])])],1)},f=[],p={},h=p,b=Object(u["a"])(h,v,f,!1,null,null,null),g=b.exports,x={components:{Menu:m,Footer:g},created:function(){this.$store.dispatch("autoLogin")}},_=x,k=Object(u["a"])(_,s,n,!1,null,null,null),w=k.exports,y=(a("45fc"),a("8c4f")),j=a("2f62"),O=a("04e1"),C=a.n(O);r["default"].use(j["a"]);var $=new j["a"].Store({state:{user:null,token:null,files:[]},mutations:{setToken:function(e,t){e.token=t},setUsuario:function(e,t){e.user=t},setFiles:function(e,t){e.files=t}},actions:{saveToken:function(e,t){var a=e.commit;a("setToken",t),a("setUsuario",C()(t)),localStorage.setItem("token",t)},autoLogin:function(e){var t=e.commit,a=localStorage.getItem("token");a&&(t("setToken",a),t("setUsuario",C()(a)),xe.push({name:"Home"}))},logout:function(e){var t=e.commit;t("setToken",null),t("setUsuario",null),localStorage.removeItem("token"),xe.push({name:"Login"})}}}),R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},E=[],F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{staticClass:"text-center"},[r("v-col",{attrs:{cols:"12"}},[r("v-img",{staticClass:"my-3",attrs:{src:a("9b19"),contain:"",height:"200"}})],1),r("v-col",{staticClass:"mb-4"},[r("h1",{staticClass:"display-2 font-weight-bold mb-3"},[e._v(" Welcome to Vuetify ")]),r("p",{staticClass:"subheading font-weight-regular"},[e._v(" For help and collaboration with other Vuetify developers, "),r("br"),e._v("please join our online "),r("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[e._v("Discord Community")])])]),r("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[r("h2",{staticClass:"headline font-weight-bold mb-3"},[e._v(" What's next? ")]),r("v-row",{attrs:{justify:"center"}},e._l(e.whatsNext,(function(t,a){return r("a",{key:a,staticClass:"subheading mx-3",attrs:{href:t.href,target:"_blank"}},[e._v(" "+e._s(t.text)+" ")])})),0)],1),r("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[r("h2",{staticClass:"headline font-weight-bold mb-3"},[e._v(" Important Links ")]),r("v-row",{attrs:{justify:"center"}},e._l(e.importantLinks,(function(t,a){return r("a",{key:a,staticClass:"subheading mx-3",attrs:{href:t.href,target:"_blank"}},[e._v(" "+e._s(t.text)+" ")])})),0)],1),r("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[r("h2",{staticClass:"headline font-weight-bold mb-3"},[e._v(" Ecosystem ")]),r("v-row",{attrs:{justify:"center"}},e._l(e.ecosystem,(function(t,a){return r("a",{key:a,staticClass:"subheading mx-3",attrs:{href:t.href,target:"_blank"}},[e._v(" "+e._s(t.text)+" ")])})),0)],1)],1)],1)},S=[],q={name:"HelloWorld",data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/layout/pre-defined"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}}},L=q,I=Object(u["a"])(L,F,S,!1,null,null,null),U=I.exports,D={name:"Home",components:{HelloWorld:U}},A=D,T=Object(u["a"])(A,R,E,!1,null,null,null),P=T.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Storage")]),a("hr",{staticClass:"mb-3"}),a("p",[e._v("Lorem ipsum dolor sit amet consectetur adipisicing elit.")]),a("v-card",{staticClass:"px-3"},[a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-file-input",{attrs:{label:"Upload your file","show-size":"",accept:".fna, .fasta, .faa, .fa, .faa, .fastq, .fq, .gz",rules:[function(e){return!!e||"File is required"}],required:""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Description"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Format file",items:e.items,rules:[function(e){return!!e||"Format file is required"}],"item-text":"text","item-value":"value",required:""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1)],1),a("v-btn",{staticClass:"mr-4",attrs:{small:"",disabled:!e.valid},on:{click:function(t){return e.sendFile()}}},[e._v(" Upload")])],1)],1)],1),a("hr",{staticClass:"my-5"}),a("v-card",[a("v-card-text",[a("div",[e._v("Uploaded")]),a("v-row",e._l(e.store,(function(t){return a("v-col",{key:t._id,attrs:{cols:"12",md:"2",sm:"4",xs:"6"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"230",outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"overline mb-4"},[e._v(e._s(t.category))]),a("v-list-item-title",{staticClass:"mb-1"},[e._v(e._s(t.filename))]),a("v-list-item-subtitle",[e._v(e._s(t.description))])],1)],1),a("v-card-actions",[a("v-btn",{attrs:{"x-small":"",color:"success",dark:""},on:{click:function(a){return e.downloadFile(t._id,t.filename)}}},[e._v("Download")]),a("v-btn",{attrs:{"x-small":"",color:"error",dark:""},on:{click:function(a){return e.deleteFile(t._id)}}},[e._v("Delete")])],1)],1)],1)})),1)],1)],1)],1)},N=[],H=(a("a4d3"),a("e01a"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),B={data:function(){return{valid:!0,file:[],description:"",value:0,select:null,items:[{value:"fastq",text:"Sequencing read data (fastq)"},{value:"fasta",text:"A sequence record (fasta)"},{value:"other",text:"Other file format"}],store:[]}},created:function(){this.listFiles()},methods:{sendFile:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("file",e.file),a.append("id",e.$store.state.user._id),a.append("description",e.description),a.append("category",e.select),t.prev=5,t.next=8,e.axios.post("/storage/upload",a,{onUploadProgress:function(t){var a=Math.round(t.loaded/t.total*100);e.value=a}});case 8:t.sent,e.listFiles(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))()},listFiles:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/storage/list/"+e.$store.state.user._id);case 3:a=t.sent,e.store=a.data.files,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deleteFile:function(e){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,a.t0=confirm("EstÃ¡s segura de que quieres eliminar este archivo?"),!a.t0){a.next=5;break}return a.next=5,t.axios.delete("/storage/delete/".concat(e));case 5:t.listFiles(),a.next=11;break;case 8:a.prev=8,a.t1=a["catch"](0),console.log(a.t1);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},downloadFile:function(e,t){var a=this;return Object(H["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.axios.get("/storage/download/".concat(e),{responseType:"blob"}).then((function(e){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(new Blob([e.data]),"".concat(t));else{console.log(e.data);var a=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=a,r.setAttribute("download","".concat(t)),document.body.appendChild(r),r.click()}}));case 3:r.next=8;break;case 5:r.prev=5,r.t0=r["catch"](0),console.log(r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()}}},W=B,V=Object(u["a"])(W,M,N,!1,null,"3e8cbff0",null),z=V.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{raised:""}},[a("v-card-title",[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:""}},r),[e._v("Register user")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-text-field",{attrs:{label:"Username*",required:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Email*",type:"email",required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),-1==e.editedIndex?a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Password*",type:"password",required:""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:e.role,label:"User Type*",required:""},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}})],1),1==e.editedIndex?a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:e.state,label:"State",required:""},model:{value:e.user.state,callback:function(t){e.$set(e.user,"state",t)},expression:"user.state"}})],1):e._e()],1)],1),a("small",[e._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.register}},[e._v("Save")])],1)],1)],1)],1),a("v-data-table",{attrs:{headers:e.headers,items:e.users,search:e.search},scopedSlots:e._u([{key:"item.state",fn:function(t){var r=t.item;return[a("v-chip",{attrs:{color:e.getColor(r.state),dark:""}})]}},{key:"item.action",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.edit(r)}}},[e._v("mdi-pencil")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.remove(r)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1),a("v-snackbar",{attrs:{timeout:e.timeout,color:e.status},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")])],1)},J=[],Q={data:function(){return{search:"",dialog:!1,snackbar:!1,timeout:4e3,headers:[{text:"Username",value:"username",align:"left",sortable:!1},{text:"Email",value:"email",align:"left",sortable:!1},{text:"Rol",value:"role",align:"left",sortable:!1},{text:"State",value:"state",align:"left",sortable:!1},{text:"Registration Date",value:"createdAt",align:"left",sortable:!1},{text:"Action",value:"action",align:"left",sortable:!1}],role:["USER_ROLE","ADMIN_ROLE"],state:[{text:"Enabled",value:!0},{text:"Disabled",value:!1}],users:[],user:{username:"",email:"",password:"",role:"USER_ROLE",state:!0},editedIndex:-1,message:"",status:""}},created:function(){this.list()},computed:{formTitle:function(){return-1===this.editedIndex?"New user":"Edit user"}},methods:{list:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={headers:{token:e.$store.state.token}},t.next=4,e.axios.get("/user/list",a);case 4:r=t.sent,e.users=r.data.users,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},register:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={headers:{token:e.$store.state.token}},-1!=e.editedIndex){t.next=17;break}return t.prev=2,t.next=5,e.axios.post("/user/add",e.user,a);case 5:r=t.sent,e.message=r.data.message,e.status=r.data.status,"success"==r.data.status&&(e.list(),e.close()),e.snackbar=!0,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),console.log(t.t0);case 15:t.next=29;break;case 17:return t.prev=17,t.next=20,e.axios.put("/user/update/".concat(e._id),e.user,a);case 20:s=t.sent,e.message=s.data.message,e.status=s.data.status,"success"==s.data.status&&(e.list(),e.close()),t.next=29;break;case 26:t.prev=26,t.t1=t["catch"](17),console.log(t.t1);case 29:case"end":return t.stop()}}),t,null,[[2,12],[17,26]])})))()},edit:function(e){this.editedIndex=1,this._id=e._id,this.user.username=e.username,this.user.email=e.email,this.user.role=e.role,this.user.state=e.state,this.dialog=!0},remove:function(e){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r={headers:{token:t.$store.state.token}},a.t0=confirm("EstÃ¡s segura de que quieres eliminar este usuario?"),!a.t0){a.next=5;break}return a.next=5,t.axios.delete("/user/delete/".concat(e._id),r).then((function(e){t.message=e.data.message,t.status=e.data.status,t.list(),t.snackbar=!0})).catch((function(e){console.log(e)}));case 5:case"end":return a.stop()}}),a)})))()},clear:function(){this.user.username="",this.user.email="",this.user.password=""},close:function(){this.clear(),this.dialog=!1,this.editedIndex=-1},getColor:function(e){return e?"green":"red"}}},Y=Q,K=Object(u["a"])(Y,G,J,!1,null,null,null),X=K.exports,Z=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ee=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("References Genomes")]),a("hr",{staticClass:"mb-3"})])}],te={},ae=te,re=Object(u["a"])(ae,Z,ee,!1,null,"50afeac3",null),se=re.exports,ne=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},oe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Databases")]),a("hr",{staticClass:"mb-3"})])}],ie={},le=ie,ce=Object(u["a"])(le,ne,oe,!1,null,"9549065a",null),ue=ce.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"secondary",flat:""}},[a("v-toolbar-title",[e._v("Iniciar sesiÃ³n")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Login",name:"login","prepend-icon":"mdi-account",type:"text"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("v-text-field",{attrs:{label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e.error?a("v-alert",{attrs:{dense:"",type:"error"}},[e._v(e._s(e.message))]):e._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1)],1)},me=[],ve={data:function(){return{error:!1,user:{email:"",password:""},message:""}},methods:{login:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post("/user/login",e.user);case 3:a=t.sent,r=C()(a.data.token),"ADMIN_ROLE"==r.role?(e.$store.dispatch("saveToken",a.data.token),e.$router.push({name:"Home"}),e.error=!1):(e.error=!0,e.message="No posee las credenciales de administrador"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),t.t0.response&&(e.message=t.t0.response.data.message,e.error=!0,console.log("error.response.data",t.t0.response.data));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},fe=ve,pe=Object(u["a"])(fe,de,me,!1,null,"aecb2b12",null),he=pe.exports;r["default"].use(y["a"]);var be=[{path:"/",name:"Home",component:P,meta:{user:!0}},{path:"/storage",name:"Storage",component:z,meta:{user:!0}},{path:"/users",name:"Users",component:X,meta:{user:!0}},{path:"/genomes",name:"Genomes",component:se,meta:{user:!0}},{path:"/databases",name:"Databases",component:ue,meta:{user:!0}},{path:"/login",name:"Login",component:he}],ge=new y["a"]({mode:"history",base:"/",routes:be});ge.beforeEach((function(e,t,a){var r=e.matched.some((function(e){return e.meta.user}));r?$.state.user&&"ADMIN_ROLE"===$.state.user.role?a():(console.log("El usuario no ha iniciado session"),a({name:"Login"})):a()}));var xe=ge,_e=a("ce5b"),ke=a.n(_e),we=(a("bf40"),a("2e15")),ye=a.n(we);r["default"].use(ke.a);var je=new ke.a({theme:{themes:{light:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},lang:{locales:{es:ye.a},current:"es"}}),Oe=a("bc3a"),Ce=a.n(Oe),$e=a("a7fe"),Re=a.n($e);r["default"].use(Re.a,Ce.a),Ce.a.defaults.baseURL="http://localhost:3000/api",r["default"].config.productionTip=!1,new r["default"]({router:xe,store:$,vuetify:je,render:function(e){return e(w)}}).$mount("#app")},"9b19":function(e,t,a){e.exports=a.p+"img/logo.63a7d78d.svg"}});
//# sourceMappingURL=app.b4fb5c4e.js.map